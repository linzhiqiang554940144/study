<!DOCTYPE HTML>
<html>
<head>
<title>1. 实现伸缩二级菜单</title>
<meta charset="utf-8" />
<link rel="stylesheet" href="css/1.css" />

</head>
<body>
	<ul class="tree">
		<li>
			<span class="open">考勤管理</span>
			<ul>
				<li>日常考勤</li>
				<li>请假申请</li>
				<li>加班/出差</li>
			</ul>
		</li>
		<li><span>信息中心</span>
			<ul>
				<li>通知公告</li>
				<li>公司新闻</li>
				<li>规章制度</li>
			</ul>
		</li>
		<li><span>协同办公</span>
			<ul>
				<li>公文流转</li>
				<li>文件中心</li>
				<li>内部邮件</li>
				<li>即时通信</li>
				<li>短信提醒</li>
			</ul>
		</li>
	</ul>
  <script>
	  //1.查找触发事件
	   var spans=document.querySelectorAll("ul.tree>li>span")
	   console.log(spans)
	  //2.绑定事件处理函数
	  for(var span of spans){
		  span.onclick=function(){
			  var span=this
			  
			  if(span.className=="open"){
				  span.className=""
			  }else{
				  //找到另一个开着的span
				  var openspan=document.querySelector("ul.tree>li>span.open")
			  }
			  if(openspan!=null){
				  openspan.className=""
			  }
			  span.className="open"
		  }
	  }
	  //3.查找要修改的元素
	  //4.修改元素
	//   var spans=document.querySelectorAll("ul.tree>li>span")
	//   for(var span of spans){
	// 	  span.onclick=function(){
	// 		  var span=this
	// 		  if(span.className=="open"){
	// 			  span.className=""
	// 		  }else{
	// 			  openspan=document.querySelectorAll("ul.tree>li>span.open")
	// 		  }
	// 		  if(opspan!=null){
	// 			  openspan.className=""
	// 		  }
	// 		  span.className="open"
	// 	  }
	//   }
  </script>
</body>
</html>
